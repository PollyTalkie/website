---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { URLS } from '../lib/env';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={`${t('nav.download')} - PollyTalkie`} lang={lang}>
  <Navigation />
  
  <main class="flex min-h-screen flex-col items-center py-12 bg-background">
    <div class="container px-4 md:px-6">
      <div class="text-center space-y-4 mb-12">
        <h1 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl animate-fade-in">
          {lang === 'zh' ? '下载博语通应用' : 'Download PollyTalkie App'}
        </h1>
        <p class="mx-auto max-w-[700px] text-zinc-500 md:text-xl dark:text-zinc-400 animate-slide-up">
          {lang === 'zh' ? '在您的移动设备上开始您的语言学习之旅' : 'Start your language learning journey on your mobile device'}
        </p>
      </div>

      <div class="max-w-2xl mx-auto text-center animate-slide-up">
        <div class="bg-muted rounded-xl p-8 mb-8">
          <h2 class="text-2xl font-bold mb-4">
            {lang === 'zh' ? '即将推出！' : 'Coming Soon!'}
          </h2>
          <p class="text-muted-foreground mb-6">
            {lang === 'zh' ? 
              '我们正在努力开发移动应用。目前，您可以通过网页版本访问PollyTalkie的所有功能。' :
              'We are working hard on our mobile app. For now, you can access all PollyTalkie features through our web version.'}
          </p>
          
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <div class="flex items-center gap-2 text-muted-foreground">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
              </svg>
              <span>{lang === 'zh' ? 'iOS 应用开发中' : 'iOS App in Development'}</span>
            </div>
            
            <div class="flex items-center gap-2 text-muted-foreground">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.61 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/>
              </svg>
              <span>{lang === 'zh' ? 'Android 应用开发中' : 'Android App in Development'}</span>
            </div>
          </div>
        </div>
        
        <div class="space-y-4">
          <h3 class="text-xl font-semibold">
            {lang === 'zh' ? '现在就开始学习！' : 'Start Learning Now!'}
          </h3>
          <p class="text-muted-foreground">
            {lang === 'zh' ? 
              '访问我们的网页版本，立即开始与AI语言伙伴对话。' :
              'Visit our web version to start conversing with AI language partners immediately.'}
          </p>
          <a
            href={URLS.portal.base}
            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-11 px-8"
          >
            {lang === 'zh' ? '访问网页版' : 'Visit Web Version'}
          </a>
        </div>
        
        <div class="mt-12 p-6 bg-muted/50 rounded-lg">
          <h4 class="font-semibold mb-2">
            {lang === 'zh' ? '获取更新通知' : 'Get Notified'}
          </h4>
          <p class="text-sm text-muted-foreground mb-4">
            {lang === 'zh' ? 
              '想要在移动应用发布时第一时间收到通知吗？请联系我们！' :
              'Want to be the first to know when our mobile app launches? Contact us!'}
          </p>
          <a
            href={`/${lang === 'en' ? '' : lang + '/'}contact`}
            class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2"
          >
            {lang === 'zh' ? '联系我们' : 'Contact Us'}
          </a>
        </div>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
